# 関数の使用

Pythonや他には`関数`という概念があります。プログラミングにおける関数は数学における`関数`とは最初は全く別のものとして考えておいてください。

## 関数の書き方

関数とは、入力を受け取って出力するようなものです。以下の例では `left`と`right`を受け取って`output`を返しています。

```python
def add(left, right):
    output = left + right
    return output

output = add(1, 2)
print(output) # 3が出力される
```

`def`は**関数を定義する**という記号で、その後に関数の名前がきます。これは比較的自由に決めることができます。

その後、**受け取るもののリスト(パラメータ)** がきます。リストはあなたが決めた変数名を`,`区切りで記入してください。

それを書くことができたら`:`で締めくくって、その後関数の中身を書いていきます。ここにこの関数が実行する命令を書いていきます。複数行になって構いません。この関数の中身を書く範囲は右端を**タブ**もしくは**半角の空白4つ**で埋める必要があります。これを**インデント**と言います。

命令が終わって何かを返す必要があるのであれば`return`でそのすぐ後に来たものを返しその関数の処理を終了します。


>注意点として、`return`が実行されるとその後の処理は実行されません。
>```python
>def return_zero():
>    return 0
>    print("You can't find me.")
>```
>例えばこの場合は`print("You can't find me.)`は実行されません。


関数の記法：
```python
# 関数を定義する
def 関数の名前(引数リスト):
    処理..
    ...

# 関数を呼び出す
関数の名前(引数リスト)
```

## 変数の有効範囲について

#### 関数内で新たに作った変数はその外から見ることができない

以下の例はエラーとなってしまいます。

```python
def add(left, right):
    output = left + right
    return output

print(output)
```

「outputという変数はトップレベルで定義されていません。」というエラーが出るかと思います。関数内部で定義した変数はその関数の外から見ることができません。

この場合「output変数の有効範囲はadd関数の中身である」ということができます。

この変数の有効範囲のことを**スコープ**と言います。

しかし、新たに変数を作って覆い隠すことは可能です。

```python
def do_nothing():
    a = 10

a = 1 # 再代入ではなく新しく定義している
print(a) # 1と出力される。同一スコープで定義されているので問題なく使える
```

#### 変数を「見る」時は、まずは狭いスコープで定義されていないかを確認し、定義されていなかったらより広い範囲のスコープで定義されていないかを確認する。
```python
a = 10
b = 1

def do_nothing():
    a = 1 # 再代入ではなく新しく定義している
    print(a) # aはdo_nothingで定義されているのでそちらが優先され1が出力される
    print(b) # do_nothingで定義されていないので外側のものを読み取るので1と出力される

print(a) # 10と出力される
```

Pythonプログラム全体で利用可能な変数のスコープを特別に`トップレベルスコープ`と呼びます。
